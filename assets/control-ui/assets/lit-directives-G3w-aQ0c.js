import{j as B,E as C}from"./lit-core-BcBtA5fW.js";const{I:w}=B,x=t=>t,j=t=>t.strings===void 0,y=()=>document.createComment(""),h=(t,s,r)=>{const A=t._$AA.parentNode,e=s===void 0?t._$AB:s._$AA;if(r===void 0){const $=A.insertBefore(y(),e),n=A.insertBefore(y(),e);r=new w($,n,t,t.options)}else{const $=r._$AB.nextSibling,n=r._$AM,c=n!==t;if(c){let o;r._$AQ?.(t),r._$AM=t,r._$AP!==void 0&&(o=t._$AU)!==n._$AU&&r._$AP(o)}if($!==e||c){let o=r._$AA;for(;o!==$;){const a=x(o).nextSibling;x(A).insertBefore(o,e),o=a}}}return r},d=(t,s,r=t)=>(t._$AI(s,r),t),H={},I=(t,s=H)=>t._$AH=s,U=t=>t._$AH,p=t=>{t._$AR(),t._$AA.remove()};const b={CHILD:2},k=t=>(...s)=>({_$litDirective$:t,values:s});class D{constructor(s){}get _$AU(){return this._$AM._$AU}_$AT(s,r,A){this._$Ct=s,this._$AM=r,this._$Ci=A}_$AS(s,r){return this.update(s,r)}update(s,r){return this.render(...r)}}const M=(t,s,r)=>{const A=new Map;for(let e=s;e<=r;e++)A.set(t[e],e);return A},E=k(class extends D{constructor(t){if(super(t),t.type!==b.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,s,r){let A;r===void 0?r=s:s!==void 0&&(A=s);const e=[],$=[];let n=0;for(const c of t)e[n]=A?A(c,n):n,$[n]=r(c,n),n++;return{values:$,keys:e}}render(t,s,r){return this.dt(t,s,r).values}update(t,[s,r,A]){const e=U(t),{values:$,keys:n}=this.dt(s,r,A);if(!Array.isArray(e))return this.ut=n,$;const c=this.ut??=[],o=[];let a,m,i=0,u=e.length-1,l=0,_=$.length-1;for(;i<=u&&l<=_;)if(e[i]===null)i++;else if(e[u]===null)u--;else if(c[i]===n[l])o[l]=d(e[i],$[l]),i++,l++;else if(c[u]===n[_])o[_]=d(e[u],$[_]),u--,_--;else if(c[i]===n[_])o[_]=d(e[i],$[_]),h(t,o[_+1],e[i]),i++,_--;else if(c[u]===n[l])o[l]=d(e[u],$[l]),h(t,e[i],e[u]),u--,l++;else if(a===void 0&&(a=M(n,l,_),m=M(c,i,u)),a.has(c[i]))if(a.has(c[u])){const f=m.get(n[l]),v=f!==void 0?e[f]:null;if(v===null){const g=h(t,e[i]);d(g,$[l]),o[l]=g}else o[l]=d(v,$[l]),h(t,e[i],v),e[f]=null;l++}else p(e[u]),u--;else p(e[i]),i++;for(;l<=_;){const f=h(t,o[_+1]);d(f,$[l]),o[l++]=f}for(;i<=u;){const f=e[i++];f!==null&&p(f)}return this.ut=n,I(t,o),C}});export{E as c,k as e,D as i,j as r,b as t};
//# sourceMappingURL=lit-directives-G3w-aQ0c.js.map
